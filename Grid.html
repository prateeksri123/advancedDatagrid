<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
		<link rel="stylesheet" href="AGrid.css">
		<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.12/webcomponents.js" type="text/javascript"></script>
		<script src="advancedDataGrid.js" type="text/javascript"></script>

		<!--
		References
		http://stackoverflow.com/questions/23812997/collapsing-table-with-html
		-->
		<script>
			function onDocumentLoaded() {
				
				$.get("data.json", 
	  	          function(data){
	  	          	var grid = document.getElementById("advanceGrid");
				    grid.groupBy = "office";
	  	          	grid.dataProvider = data;
	  	          	grid.header = JSON.parse('{"name": "Employee Name","position": "Designamtion","office": "Office Location","startDate": "DOJ","salary": "Salary", "age":"Age"}');
	  	          	grid.rowStyle = JSON.parse('{"evenRowColor":"#fff000","oddRowColor":"#C0C0C0"}');
	  	          	grid.refreshGrid();
	  	          });
				
				$('body').on('click', 'tr.header', function() {

					$(this).nextUntil('tr.header').slideToggle(500, function() {
						$('#img').attr("src", "icons/expand_collapse_plus.gif");
					});
				});

			}

		</script>

		<script type='text/javascript'>
			//<![CDATA[

			//]]>

		</script>

	</head>
	<body onload="onDocumentLoaded()">

		<div data-role="page" id="pageone">

			<div class="container" >
				<div class="header">
					<span>Expand</span>

				</div>
				<div class="content">
					<ul>
						<li>
							This is just some random content.
						</li>
						<li>
							This is just some random content.
						</li>
						<li>
							This is just some random content.
						</li>
						<li>
							This is just some random content.
						</li>
					</ul>
				</div>
			</div>
			<div data-role="header">
				<h1>Grid Header</h1>
			</div>

			<div data-role="main" class="ui-content">

				<x-advancegrid id="advanceGrid" test="XXXXX">

					<x-advancegrid>
			</div>

			<div data-role="footer">
				<h1>Grid Footer</h1>
			</div>

		</div>

	</body>

</html>
